#import core;

maybe_delete :: (float **ptr) {
  if randf() > 0.5 {
    delete(*ptr);
  }
}


main :: () {
  srand(time(null));
  float[] *floats = new float[]({0,1,2});

  while true {
    for *f; *floats {
      maybe_delete(&f);
    }
  }

  println($"{floats.length}");
  delete(floats.data, floats.data, floats.data, floats);
}
