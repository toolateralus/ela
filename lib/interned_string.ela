#error "Internered string is broken";
;


InternedString :: struct {
  id: s64;
};

impl InternedString {
  from :: fn(value: string) -> #self {
    #static next_id: s64 = 1;
    self: #self;
    if id == 0 {
      self.id = next_id++;
    }
    else { 
      self.id = id; 
    }
    return self;
  }
  value :: fn(self*) -> string {
    return __interned_string_storage_cache[self.id];
  }
}

