TestStruct :: struct {}
TestInterface :: interface {}
TestInterface1 :: interface {}
impl TestInterface for TestStruct {}
impl TestInterface1 for TestStruct {}
TestStruct1 :: struct![T] where T is TestInterface & TestInterface1 {}

TestStruct2 :: struct {}
impl TestInterface for TestStruct2 {}

TestStruct3 :: struct![T] where T is TestInterface | TestInterface1 {}

TestStruct4 :: struct![T] where T is int | float {}

TestFn :: fn![T]() where T is int | float {
}

TestFn1 :: fn![T]() -> T where T is int | float {
  return {};
}

TestStruct5 :: struct![T] where T is int | float {}

TestInterface2 :: interface![T] where T is int | float {}

impl TestInterface2![int] for TestStruct {}

impl![T] TestInterface2![T] for TestStruct5![T] where T is int | float {}

#test test_instantiation_of_wheres :: fn() {
  s1: TestStruct1![TestStruct];
  s2: TestStruct3![TestStruct];
  s3: TestStruct3![TestStruct2];
  s4: TestStruct4![int];
  s5: TestStruct4![float];
  TestFn![int]();
  TestFn![float]();
  s6: TestStruct5![int];
  s7: TestStruct5![float];
}